{"version":3,"sources":["logo.svg","components/header.js","scripts/getFilm.js","components/main.js","components/sidebar.js","components/footer.js","components/film.js","App.js","reportWebVitals.js","index.js"],"names":["Header","useState","search","setSearch","className","alt","src","logo","to","type","placeholder","onChange","word","document","getElementsByClassName","value","getFilm","page","keyword","maxPages","req","request","Request","headers","Headers","fetch","then","response","ok","json","Error","data","pagesCount","console","log","wrapper","innerHTML","i","films","length","card","createElement","filmId","posterUrlPreview","nameRu","appendChild","catch","error","Main","props","changePage","useEffect","match","params","onClick","Sidebar","header","genres","genre","id","Footer","Film","useParams","film","script","App","basename","exact","from","component","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d2f2d367.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.10b5322e.svg\";","import './header.scss';\r\nimport logo from '../logo.svg';\r\nimport { useState } from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Link\r\n  } from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n    const [search,setSearch] = useState(' ');\r\n    return(\r\n        <div className=\"header-wrapper\">\r\n            <div className=\"header-brand\"><img className=\"logo\" alt=\"logo\" src={logo}></img><Link to=\"/\"><span>CINEMA</span></Link></div>\r\n            <div className=\"search\">\r\n            <input type=\"text\" className=\"searchBar\" placeholder=\"Название...\" onChange={()=>{let word = document.getElementsByClassName('searchBar')[0].value;  setSearch(word)}}></input>\r\n            <Link className=\"searchButton\" to={`/search/${search}`}>Поиск</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;","\r\nfunction getFilm(page,type,keyword) {\r\n    let maxPages;let req;\r\n    if (type===\"top\") {\r\n        req = `https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=${keyword}&page=${page}`\r\n    } else if (type===\"search\") {\r\n        req = `https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${keyword}&page=${page}`\r\n    }\r\n    let request = new Request(req,{\r\n        headers: new Headers({\r\n            'accept': 'application/json',\r\n            'X-API-KEY': '37970845-fd94-4f47-877f-229c8ce46304'})\r\n    });\r\n    fetch(request)\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      } else {\r\n        throw new Error('Something went wrong');\r\n      }\r\n    })\r\n    .then((data) => {\r\n        maxPages=data.pagesCount;\r\n        if (page>maxPages||page<1) page=maxPages;\r\n        console.log(page,' ',maxPages);\r\n        let wrapper = document.getElementsByClassName('cards')[0];\r\n        wrapper.innerHTML=\"\";\r\n        console.log(data);\r\n        for (let i=0;i<data.films.length;i++) {\r\n            let card = document.createElement('div');\r\n            card.className=\"card\";\r\n            card.innerHTML = `\r\n            <a href=\"#/film/${data.films[i].filmId}\">\r\n            <img src='${data.films[i].posterUrlPreview}'></img>\r\n            <br>\r\n            <h3>${data.films[i].nameRu}</h3>\r\n            </a>`;\r\n            wrapper.appendChild(card);\r\n        }\r\n    })\r\n    .catch((error) => {\r\n        maxPages = getFilm(1,type,keyword);\r\n      }\r\n    );\r\n    return maxPages;\r\n}\r\n\r\nexport default getFilm;","import './main.scss';\r\nimport { useEffect, useState } from 'react';\r\n  import getFilm from '../scripts/getFilm.js'\r\n\r\nfunction Main(props) {\r\n    const [page,changePage] = useState(1);\r\n    let maxPages;\r\n    useEffect(() => {\r\n    maxPages = getFilm(page,props.match.params.type,props.match.params.keyword)//page,props.type,props.keyword);\r\n    });\r\n\r\n    return(\r\n        <div className=\"main-wrapper\">\r\n            <div className=\"cards\"></div>\r\n            <div className=\"pageListWrapper\">\r\n                <button onClick={()=>{(page-1)>=1?changePage(page-1):console.log()}} className=\"pageListButton\"> Назад </button>\r\n                <button onClick={()=>changePage(1)} className=\"pageListButton\"> Первая страница </button>\r\n                <button onClick={()=>{(page+1>maxPages)?changePage(1):changePage(page+1)}}  className=\"pageListButton\"> Вперед </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Main;","import './sidebar.scss';\r\nimport {\r\n    Link\r\n  } from \"react-router-dom\";\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction Sidebar() {\r\n    \r\n    useEffect(() => {\r\n    let request = new Request('https://kinopoiskapiunofficial.tech/api/v2.1/films/filters',{\r\n        headers: new Headers({\r\n            'accept': 'application/json',\r\n            'X-API-KEY': '37970845-fd94-4f47-877f-229c8ce46304'})\r\n    });\r\n    fetch(request)\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      } else {\r\n        throw new Error('Something went wrong');\r\n      }\r\n    })\r\n    .then((data) => {\r\n        console.log(data);\r\n        let wrapper = document.getElementsByClassName('sidebar-wrapper')[0];\r\n        let header = document.createElement('div');\r\n        header.className=\"sidebar-header\";\r\n        header.innerHTML='<h3>ЖАНРЫ</h3>';\r\n        wrapper.appendChild(header);\r\n        for (let i=0;i<data.genres.length;i++){\r\n            let genre = document.createElement('div');\r\n            genre.className=\"genre\";\r\n            genre.innerHTML = `\r\n            <a class=\"genre-card\" href=\"#/genre/${data.genres[i].id}\">\r\n            <h3>${data.genres[i].genre}</h3>\r\n            </a>`;\r\n            wrapper.appendChild(genre);\r\n        }\r\n        }\r\n    )\r\n    .catch((error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n    });\r\n    return(\r\n        <div className=\"sidebar-wrapper\">\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sidebar;","import './footer.scss';\r\n\r\nfunction Footer() {\r\n    return(\r\n        <div className=\"footer-wrapper\">\r\n            made by i l y a m e d\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Footer;","import './film.scss';\r\nimport { useEffect } from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    useParams\r\n  } from \"react-router-dom\";\r\n\r\nfunction Film() {\r\n    let {id} = useParams();\r\n    useEffect(() => {\r\n    let wrapper = document.getElementsByClassName('film-wrapper')[0];\r\n    wrapper.innerHTML='';\r\n            let film = document.createElement('div');\r\n            let script = document.createElement('script');\r\n            script.type = \"text/javascript\";\r\n            script.src = \"//yohoho.cc/yo.js\";\r\n            film.className=\"player\";\r\n            film.innerHTML = `\r\n            <div id=\"yohoho\" data-kinopoisk=\"${id}\"></div>\r\n            `;\r\n            wrapper.appendChild(film);\r\n            wrapper.appendChild(script);\r\n    /*\r\n    let req;\r\n    if (\"top\") {\r\n        req = `https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=keyword&page=page`\r\n    } else if (\"search\") {\r\n        req = `https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=keyword&page=page`\r\n    }\r\n    let request = new Request(req,{\r\n        headers: new Headers({\r\n            'accept': 'application/json',\r\n            'X-API-KEY': '37970845-fd94-4f47-877f-229c8ce46304'})\r\n    });\r\n    fetch(request)\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      } else {\r\n        throw new Error('Something went wrong');\r\n      }\r\n    })\r\n    .then((data) => {\r\n\r\n        }\r\n    )\r\n    .catch((error) => {\r\n        console.log(error);\r\n      }\r\n    );*/\r\n    });\r\n\r\n    return(\r\n\r\n        <div className=\"film-wrapper\">\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Film;","import './App.scss';\nimport Header from './components/header.js';\nimport Main from './components/main.js';\nimport Sidebar from './components/sidebar.js';\nimport Footer from './components/footer.js';\nimport Film from './components/film.js';\nimport {\n  HashRouter,\n  Switch,\n  Route, \n  Redirect\n} from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      \n    <HashRouter basename=\"/\">\n      <Header />\n      <Switch>\n      <Redirect exact from=\"/\" to=\"/top/TOP_250_BEST_FILMS\" component={Main} />\n      \n      <Route path=\"/film/:id\" component={Film}/>\n      <Route path=\"/:type/:keyword\" component={Main}/>\n      </Switch>\n      <Sidebar />\n      <Footer />\n    </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n      <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}