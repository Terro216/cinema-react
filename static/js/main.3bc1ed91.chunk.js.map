{"version":3,"sources":["components/header.js","scripts/getFilm.js","components/main.js","components/sidebar.js","components/footer.js","components/film.js","App.js","reportWebVitals.js","index.js"],"names":["Header","useState","search","setSearch","className","alt","type","placeholder","onChange","word","document","getElementsByClassName","value","to","getFilm","page","keyword","maxPages","req","request","Request","headers","Headers","fetch","then","response","ok","json","Error","data","pagesCount","console","log","wrapper","innerHTML","i","films","length","card","createElement","filmId","posterUrlPreview","nameRu","appendChild","catch","error","Main","props","changePage","useEffect","match","params","onClick","Sidebar","Footer","Film","id","useParams","film","script","src","App","basename","exact","from","component","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3bc1ed91.chunk.js","sourcesContent":["import './header.css';\r\nimport { useState } from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Link\r\n  } from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n    const [search,setSearch] = useState(' ');\r\n    return(\r\n        <div className=\"header-wrapper\">\r\n            <div className=\"header-brand\"><img className=\"logo\" alt=\"logo\"></img> CINEMA</div>\r\n            <div className=\"header-pages\">\r\n                Новинки\r\n                ТОП-100 фильмов\r\n                \r\n            </div>\r\n            <div className=\"search\"><input type=\"text\" className=\"searchBar\" placeholder=\"Название...\" onChange={()=>{let word = document.getElementsByClassName('searchBar')[0].value;  setSearch(word)}}></input>\r\n            <Link to={`/search/${search}`}>Поиск</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;","\r\nfunction getFilm(page,type,keyword) {\r\n    let maxPages;let req;\r\n    if (type===\"top\") {\r\n        req = `https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=${keyword}&page=${page}`\r\n    } else if (type===\"search\") {\r\n        req = `https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${keyword}&page=${page}`\r\n    }\r\n    let request = new Request(req,{\r\n        headers: new Headers({\r\n            'accept': 'application/json',\r\n            'X-API-KEY': '37970845-fd94-4f47-877f-229c8ce46304'})\r\n    });\r\n    fetch(request)\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      } else {\r\n        throw new Error('Something went wrong');\r\n      }\r\n    })\r\n    .then((data) => {\r\n        maxPages=data.pagesCount;\r\n        if (page>maxPages||page<1) page=maxPages;\r\n        console.log(page,' ',maxPages);\r\n        let wrapper = document.getElementsByClassName('cards')[0];\r\n        wrapper.innerHTML=\"\";\r\n        console.log(data);\r\n        for (let i=0;i<data.films.length;i++) {\r\n            let card = document.createElement('div');\r\n            card.className=\"card\";\r\n            card.innerHTML = `\r\n            <a href=\"#/film/${data.films[i].filmId}\">\r\n            <img src='${data.films[i].posterUrlPreview}'></img>\r\n            <br>\r\n            <h3>${data.films[i].nameRu}</h3>\r\n            </a>`;\r\n            wrapper.appendChild(card);\r\n        }\r\n    })\r\n    .catch((error) => {\r\n        maxPages = getFilm(1,type,keyword);\r\n      }\r\n    );\r\n    return maxPages;\r\n}\r\n\r\nexport default getFilm;","import './main.css';\r\nimport { useEffect, useState } from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useParams\r\n  } from \"react-router-dom\";\r\n  import getFilm from '../scripts/getFilm.js'\r\n\r\nfunction Main(props) {\r\n    const [page,changePage] = useState(1);\r\n    let maxPages;\r\n    useEffect(() => {\r\n    maxPages = getFilm(page,props.match.params.type,props.match.params.keyword)//page,props.type,props.keyword);\r\n    });\r\n\r\n    return(\r\n        <div className=\"main-wrapper\">\r\n            <div className=\"cards\"></div>\r\n            <div className=\"pageListWrapper\">\r\n                <button onClick={()=>{(page-1)>=1?changePage(page-1):console.log()}} className=\"pageListButton\"> Назад </button>\r\n                <button onClick={()=>changePage(1)} className=\"pagListButton\"> Первая страница </button>\r\n                <button onClick={()=>{(page+1>maxPages)?changePage(1):changePage(page+1)}}  className=\"pageListButton\"> Вперед </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Main;","import './sidebar.css';\r\n\r\nfunction Sidebar() {\r\n    return(\r\n        <div className=\"sidebar-wrapper\">\r\n            sidebar\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sidebar;","import './footer.css';\r\n\r\nfunction Footer() {\r\n    return(\r\n        <div className=\"footer-wrapper\">\r\n            made by i l y a m e d\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Footer;","import './film.css';\r\nimport { useEffect } from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    useParams\r\n  } from \"react-router-dom\";\r\n\r\nfunction Film() {\r\n\r\n    let {id} = useParams();\r\n    useEffect(() => {\r\n    let wrapper = document.getElementsByClassName('film-wrapper')[0];\r\n    wrapper.innerHTML='';\r\n            let film = document.createElement('div');\r\n            let script = document.createElement('script');\r\n            script.type = \"text/javascript\";\r\n            script.src = \"//yohoho.cc/yo.js\";\r\n            film.className=\"player\";\r\n            film.innerHTML = `\r\n            <div id=\"yohoho\" data-kinopoisk=\"${id}\"></div>\r\n            `;\r\n            wrapper.appendChild(film);\r\n            wrapper.appendChild(script);\r\n    });\r\n\r\n    return(\r\n        <div className=\"film-wrapper\">\r\n        <script src=\"//yohoho.cc/yo.js\"></script>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Film;","import './App.css';\nimport Header from './components/header.js';\nimport Main from './components/main.js';\nimport Sidebar from './components/sidebar.js';\nimport Footer from './components/footer.js';\nimport Film from './components/film.js';\nimport Search from './components/search.js';\nimport * as QueryString from \"query-string\"\n\nimport {\n  HashRouter,\n  Switch,\n  Route, Redirect\n} from \"react-router-dom\";\n\nfunction App() {\n<Search />\n  return (\n    <div className=\"App\">\n      \n    <HashRouter basename=\"/\">\n      <Header />\n      <Switch>\n      <Redirect exact from=\"/\" to=\"/top/TOP_250_BEST_FILMS\" component={Main} />\n      \n      <Route path=\"/film/:id\">\n          <Film />\n      </Route>\n      <Route path=\"/:type/:keyword\" component={Main}/>\n      </Switch>\n      <Sidebar />\n      <Footer />\n    </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n      <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}