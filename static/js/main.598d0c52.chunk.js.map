{"version":3,"sources":["logo.svg","components/header.js","scripts/getFilm.js","components/main.js","components/sidebar.js","components/footer.js","components/film.js","App.js","reportWebVitals.js","index.js"],"names":["Header","useState","search","setSearch","className","alt","src","logo","to","type","placeholder","onChange","word","document","getElementsByClassName","value","getFilm","page","keyword","maxPages","req","request","Request","headers","Headers","fetch","then","response","ok","json","Error","data","pagesCount","console","log","wrapper","innerHTML","i","films","length","card","createElement","filmId","posterUrlPreview","nameRu","year","appendChild","catch","error","Main","props","changePage","useEffect","match","params","onClick","Sidebar","header","genres","genre","id","Footer","Film","useParams","film","script","film2","script2","rating","ratingVoteCount","ratingImdb","ratingImdbVoteCount","ratingFilmCritics","ratingFilmCriticsVoteCount","posterUrl","slogan","description","countries","country","App","basename","exact","from","component","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.598d0c52.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.10b5322e.svg\";","import './header.scss';\r\nimport logo from '../logo.svg';\r\nimport { useState } from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Link\r\n  } from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n    const [search,setSearch] = useState(' ');\r\n    return(\r\n        <div className=\"header-wrapper\">\r\n            <div className=\"header-brand\"><img className=\"logo\" alt=\"logo\" src={logo}></img><Link to=\"/\"><span>CINEMA</span></Link></div>\r\n            <div className=\"search\">\r\n            <input type=\"text\" className=\"searchBar\" placeholder=\"Название...\" onChange={()=>{let word = document.getElementsByClassName('searchBar')[0].value;  setSearch(word)}}></input>\r\n            <Link className=\"searchButton\" to={`/search/${search}`}>Поиск</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;","\r\nfunction getFilm(page,type,keyword) {\r\n    let maxPages;let req;\r\n    if (type===\"top\") {\r\n        req = `https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=${keyword}&page=${page}`\r\n    } else if (type===\"search\") {\r\n        req = `https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${keyword}&page=${page}`\r\n    } else if (type==='genre') {\r\n        req = `https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-filters?genre=${keyword}&order=RATING&type=ALL&ratingFrom=0&ratingTo=10&yearFrom=1888&yearTo=2020&page=${page}`\r\n    }\r\n    let request = new Request(req,{\r\n        headers: new Headers({\r\n            'accept': 'application/json',\r\n            'X-API-KEY': '37970845-fd94-4f47-877f-229c8ce46304'})\r\n    });\r\n    fetch(request)\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      } else {\r\n        throw new Error('Something went wrong');\r\n      }\r\n    })\r\n    .then((data) => {\r\n        maxPages=data.pagesCount;\r\n        if (page>maxPages||page<1) page=maxPages;\r\n        console.log(page,' ',maxPages);\r\n        let wrapper = document.getElementsByClassName('cards')[0];\r\n        wrapper.innerHTML=\"\";\r\n        console.log(data);\r\n        for (let i=0;i<data.films.length;i++) {\r\n            let card = document.createElement('div');\r\n            card.className=\"card\";\r\n            card.innerHTML = `\r\n            <a href=\"#/film/${data.films[i].filmId}\">\r\n            <img src='${data.films[i].posterUrlPreview}'></img>\r\n            <br>\r\n            <h3>${data.films[i].nameRu} (${data.films[i].year})</h3>\r\n            </a>`;\r\n            wrapper.appendChild(card);\r\n        }\r\n    })\r\n    .catch((error) => {\r\n        maxPages = getFilm(1,type,keyword);\r\n      }\r\n    );\r\n    return maxPages;\r\n}\r\n\r\nexport default getFilm;","import './main.scss';\r\nimport { useEffect, useState } from 'react';\r\n  import getFilm from '../scripts/getFilm.js'\r\n\r\nfunction Main(props) {\r\n    const [page,changePage] = useState(1);\r\n    let maxPages;\r\n    useEffect(() => {\r\n    maxPages = getFilm(page,props.match.params.type,props.match.params.keyword)//page,props.type,props.keyword);\r\n    });\r\n\r\n    return(\r\n        <div className=\"main-wrapper\">\r\n            <div className=\"cards\"></div>\r\n            <div className=\"pageListWrapper\">\r\n                <button onClick={()=>{(page-1)>=1?changePage(page-1):console.log()}} className=\"pageListButton\"> Назад </button>\r\n                <button onClick={()=>changePage(1)} className=\"pageListButton\"> Первая страница </button>\r\n                <button onClick={()=>{(page+1>maxPages)?changePage(1):changePage(page+1)}}  className=\"pageListButton\"> Вперед </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Main;","import './sidebar.scss';\r\nimport {\r\n    Link\r\n  } from \"react-router-dom\";\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction Sidebar() {\r\n    \r\n    useEffect(() => {\r\n    let request = new Request('https://kinopoiskapiunofficial.tech/api/v2.1/films/filters',{\r\n        headers: new Headers({\r\n            'accept': 'application/json',\r\n            'X-API-KEY': '37970845-fd94-4f47-877f-229c8ce46304'})\r\n    });\r\n    fetch(request)\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      } else {\r\n        throw new Error('Something went wrong');\r\n      }\r\n    })\r\n    .then((data) => {\r\n        console.log(data);\r\n        let wrapper = document.getElementsByClassName('sidebar-wrapper')[0];\r\n        let header = document.createElement('div');\r\n        header.className=\"sidebar-header\";\r\n        header.innerHTML='<h3>ЖАНРЫ</h3>';\r\n        wrapper.appendChild(header);\r\n        for (let i=0;i<data.genres.length;i++){\r\n            let genre = document.createElement('div');\r\n            genre.className=\"genre\";\r\n            genre.innerHTML = `\r\n            <a class=\"genre-card\" href=\"#/genre/${data.genres[i].id}\">\r\n            <h3>${data.genres[i].genre}</h3>\r\n            </a>`;\r\n            wrapper.appendChild(genre);\r\n        }\r\n        }\r\n    )\r\n    .catch((error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n    });\r\n    return(\r\n        <div className=\"sidebar-wrapper\">\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sidebar;","import './footer.scss';\r\n\r\nfunction Footer() {\r\n    return(\r\n        <div className=\"footer-wrapper\">\r\n            made by i l y a m e d\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Footer;","import './film.scss';\r\nimport { useEffect } from 'react';\r\nimport {\r\n    useParams\r\n  } from \"react-router-dom\";\r\n\r\nfunction Film() {\r\n    let {id} = useParams();\r\n    useEffect(() => {\r\n            let wrapper = document.getElementsByClassName('film')[0];\r\n            wrapper.innerHTML='';\r\n            let film = document.createElement('div');\r\n            let script = document.createElement('script');\r\n            script.type = \"text/javascript\";\r\n            script.src = \"//yohoho.cc/yo.js\";\r\n            film.className=\"player\";\r\n            film.innerHTML = `\r\n            <div id=\"yohoho\" data-kinopoisk=\"${id}\"></div>\r\n            `;\r\n            //ver 2\r\n            let film2 = document.createElement('div');\r\n            let script2 = document.createElement('script');\r\n            film2.className=\"uitools\";\r\n            film2.id='uitools';\r\n            script2.type = \"text/javascript\";\r\n            script2.src = `//pleer.uitools.space/get_player?w=610&h=370&type=watch&kp_id=${id}&players=apicollaps,videocdn,bazon,hdvb,alloha,ustore,iframe,trailer&bt_s=b_r:6;b_h:40;b_w:100;b_c:FFFFFF;b_bg:428BCA;b_f:18;&bt_n=Плеер 2&ani=COLLAPS&ati=&adi=&vni=VIDEOCDN&vti=&vdi=&hni=HDVB&hti=&hdi=&bni=BAZON&bti=&bdi=&alni=ALLOHATV&alti=&aldi=&usni=USTOREBZ&usti=&usdi=&idi=`;\r\n            wrapper.appendChild(film);\r\n            wrapper.appendChild(script);\r\n            \r\n            wrapper.appendChild(film2);\r\n            wrapper.appendChild(script2);\r\n    let request = new Request(`https://kinopoiskapiunofficial.tech/api/v2.1/films/${id}?append_to_response=RATING`,{\r\n        headers: new Headers({\r\n            'accept': 'application/json',\r\n            'X-API-KEY': '37970845-fd94-4f47-877f-229c8ce46304'})\r\n    });\r\n    fetch(request)\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      } else {\r\n        throw new Error('Something went wrong');\r\n      }\r\n    })\r\n    .then((data) => { \r\n      document.getElementsByClassName('filmScore')[0].innerHTML=`<div>КиноПоиск: ${data.rating.rating} (${data.rating.ratingVoteCount} шт.)</div><div>IMDB: ${data.rating.ratingImdb}  (${data.rating.ratingImdbVoteCount} шт.)</div> <div>Критики: ${data.rating.ratingFilmCritics} (${data.rating.ratingFilmCriticsVoteCount} шт.)</div>`;\r\n      data=data.data;console.log(data);\r\n          document.getElementsByClassName('bigPoster')[0].src=data.posterUrl;\r\n          document.getElementsByClassName('filmName')[0].innerHTML=`${data.nameRu} (${data.year})<br/><br/><i class=\"filmQuote\">&laquo;${data.slogan}&raquo;</i>`;\r\n          document.getElementsByClassName('filmDescription')[0].innerHTML=`<h3>Про что фильм?</h3><p></p>${data.description}`;\r\n          document.getElementsByClassName('filmOther')[0].innerHTML=`\r\n          Произведен в: <div class=\"countryAdd\"></div>\r\n          Жанр: <div class=\"genreAdd\"></div>\r\n          `;\r\n          for (let i=0;i<=data.countries.length;i++) {\r\n            document.getElementsByClassName('countryAdd')[0].innerHTML+=`${data.countries[i].country}&nbsp; `;\r\n          };\r\n          for (let i=0;i<=data.genres.length;i++) {\r\n            document.getElementsByClassName('genreAdd')[0].innerHTML+=`${data.genres[i].genre}&nbsp; `; //ГДЕ ЖАНРЫ ТО\r\n          };\r\n      })\r\n    .catch((error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n    });\r\n\r\n    return(\r\n\r\n        <div className=\"film-wrapper\">\r\n          <div className=\"filmHeader\">\r\n            <img className=\"bigPoster\"></img>\r\n            <h1 className=\"filmName\"></h1>\r\n            <div className=\"filmScore\"></div>\r\n          </div>\r\n          <div className=\"film\"></div>\r\n          <div className=\"filmDescription\"></div>\r\n          <p></p>\r\n          <div className=\"filmOther\"></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Film;","import './App.scss';\nimport Header from './components/header.js';\nimport Main from './components/main.js';\nimport Sidebar from './components/sidebar.js';\nimport Footer from './components/footer.js';\nimport Film from './components/film.js';\nimport {\n  HashRouter,\n  Switch,\n  Route, \n  Redirect\n} from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      \n    <HashRouter basename=\"/\">\n      <Header />\n      <Switch>\n      <Redirect exact from=\"/\" to=\"/top/TOP_250_BEST_FILMS\" component={Main} />\n      \n      <Route path=\"/film/:id\" component={Film}/>\n      <Route path=\"/:type/:keyword\" component={Main}/>\n      </Switch>\n      <Sidebar />\n      <Footer />\n    </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n      <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}