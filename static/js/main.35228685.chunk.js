(this["webpackJsonpcinema-react"]=this["webpackJsonpcinema-react"]||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(16),s=n.n(c),i=(n(22),n(23),n(10)),r=(n(24),n.p+"static/media/logo.10b5322e.svg"),o=n(7),l=n(1);var d=function(){var e=Object(a.useState)(" "),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(l.jsxs)("div",{className:"header-wrapper",children:[Object(l.jsxs)("div",{className:"header-brand",children:[Object(l.jsx)("img",{className:"logo",alt:"logo",src:r}),Object(l.jsx)(o.b,{to:"/",children:Object(l.jsx)("span",{children:"CINEMA"})})]}),Object(l.jsxs)("div",{className:"search",children:[Object(l.jsx)("input",{type:"text",className:"searchBar",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435...",onChange:function(){var e=document.getElementsByClassName("searchBar")[0].value;c(e)}}),Object(l.jsx)(o.b,{className:"searchButton",to:"/search/".concat(n),children:"\u041f\u043e\u0438\u0441\u043a"})]})]})};n(31);var m=function e(t,n,a){var c,s;"top"===n?s="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=".concat(a,"&page=").concat(t):"search"===n?s="https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=".concat(a,"&page=").concat(t):"genre"===n&&(s="https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-filters?genre=".concat(a,"&order=RATING&type=ALL&ratingFrom=0&ratingTo=10&yearFrom=1888&yearTo=2020&page=").concat(t));var i=new Request(s,{headers:new Headers({accept:"application/json","X-API-KEY":"37970845-fd94-4f47-877f-229c8ce46304"})});return fetch(i).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){c=e.pagesCount,(t>c||t<1)&&(t=c),console.log(t," ",c);var n=document.getElementsByClassName("cards")[0];n.innerHTML="",console.log(e);for(var a=0;a<e.films.length;a++){var s=document.createElement("div");s.className="card",s.innerHTML='\n            <a href="#/film/'.concat(e.films[a].filmId,"\">\n            <img src='").concat(e.films[a].posterUrlPreview,"'></img>\n            <br>\n            <h3>").concat(e.films[a].nameRu," (").concat(e.films[a].year,")</h3>\n            </a>"),n.appendChild(s)}})).catch((function(t){c=e(1,n,a)})),c};var p=function(e){var t,n=Object(a.useState)(1),c=Object(i.a)(n,2),s=c[0],r=c[1];return Object(a.useEffect)((function(){t=m(s,e.match.params.type,e.match.params.keyword)})),Object(l.jsxs)("div",{className:"main-wrapper",children:[Object(l.jsx)("div",{className:"cards"}),Object(l.jsxs)("div",{className:"pageListWrapper",children:[Object(l.jsx)("button",{onClick:function(){s-1>=1?r(s-1):console.log()},className:"pageListButton",children:" \u041d\u0430\u0437\u0430\u0434 "}),Object(l.jsx)("button",{onClick:function(){return r(1)},className:"pageListButton",children:" \u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 "}),Object(l.jsx)("button",{onClick:function(){r(s+1>t?1:s+1)},className:"pageListButton",children:" \u0412\u043f\u0435\u0440\u0435\u0434 "})]})]})};n(32);var u=function(){return Object(a.useEffect)((function(){var e=new Request("https://kinopoiskapiunofficial.tech/api/v2.1/films/filters",{headers:new Headers({accept:"application/json","X-API-KEY":"37970845-fd94-4f47-877f-229c8ce46304"})});fetch(e).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){console.log(e);var t=document.getElementsByClassName("sidebar-wrapper")[0],n=document.createElement("div");n.className="sidebar-header",n.innerHTML="<h3>\u0416\u0410\u041d\u0420\u042b</h3>",t.appendChild(n);for(var a=0;a<e.genres.length;a++){var c=document.createElement("div");c.className="genre",c.innerHTML='\n            <a class="genre-card" href="#/genre/'.concat(e.genres[a].id,'">\n            <h3>').concat(e.genres[a].genre,"</h3>\n            </a>"),t.appendChild(c)}})).catch((function(e){console.log(e)}))})),Object(l.jsx)("div",{className:"sidebar-wrapper"})};n(33);var f=function(){return Object(l.jsx)("div",{className:"footer-wrapper",children:"made by i l y a m e d"})},h=(n(34),n(2));var j=function(){var e=Object(h.g)().id;return Object(a.useEffect)((function(){var t=document.getElementsByClassName("film")[0];t.innerHTML="";var n=document.createElement("div"),a=document.createElement("script");a.type="text/javascript",a.src="//yohoho.cc/yo.js",n.className="player",n.innerHTML='\n            <div id="yohoho" data-kinopoisk="'.concat(e,'"></div>\n            ');var c=document.createElement("div"),s=document.createElement("script");c.className="uitools",c.id="uitools",s.type="text/javascript",s.src="//pleer.uitools.space/get_player?w=610&h=370&type=watch&kp_id=".concat(e,"&players=apicollaps,videocdn,bazon,hdvb,alloha,ustore,iframe,trailer&bt_s=b_r:6;b_h:40;b_w:100;b_c:FFFFFF;b_bg:428BCA;b_f:18;&bt_n=\u041f\u043b\u0435\u0435\u0440 2&ani=COLLAPS&ati=&adi=&vni=VIDEOCDN&vti=&vdi=&hni=HDVB&hti=&hdi=&bni=BAZON&bti=&bdi=&alni=ALLOHATV&alti=&aldi=&usni=USTOREBZ&usti=&usdi=&idi="),t.appendChild(n),t.appendChild(a),t.appendChild(c),t.appendChild(s);var i=new Request("https://kinopoiskapiunofficial.tech/api/v2.1/films/".concat(e,"?append_to_response=RATING"),{headers:new Headers({accept:"application/json","X-API-KEY":"37970845-fd94-4f47-877f-229c8ce46304"})});fetch(i).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){document.getElementsByClassName("filmScore")[0].innerHTML="<div>\u041a\u0438\u043d\u043e\u041f\u043e\u0438\u0441\u043a: ".concat(e.rating.rating," (").concat(e.rating.ratingVoteCount," \u0448\u0442.)</div><div>IMDB: ").concat(e.rating.ratingImdb,"  (").concat(e.rating.ratingImdbVoteCount," \u0448\u0442.)</div> <div>\u041a\u0440\u0438\u0442\u0438\u043a\u0438: ").concat(e.rating.ratingFilmCritics," (").concat(e.rating.ratingFilmCriticsVoteCount," \u0448\u0442.)</div>"),e=e.data,document.getElementsByClassName("bigPoster")[0].src=e.posterUrl,null!==e.slogan?document.getElementsByClassName("filmName")[0].innerHTML="".concat(e.nameRu," (").concat(e.year,')<br/><br/><i class="filmQuote">&laquo;').concat(e.slogan,"&raquo;</i>"):document.getElementsByClassName("filmName")[0].innerHTML="".concat(e.nameRu," (").concat(e.year,")<br/>"),document.getElementsByClassName("filmDescription")[0].innerHTML="<h3>\u041f\u0440\u043e \u0447\u0442\u043e \u0444\u0438\u043b\u044c\u043c?</h3><p></p>".concat(e.description),document.getElementsByClassName("filmOther")[0].innerHTML='\n          \u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d \u0432: <div class="countryAdd"></div>\n          ';for(var t=0;t<e.countries.length;t++){var n=void 0;n=t+1===e.countries.length?"&nbsp;":",",document.getElementsByClassName("countryAdd")[0].innerHTML+="".concat(e.countries[t].country).concat(n," ")}for(var a=0;a<e.genres.length;a++)document.getElementsByClassName("filmGenre")[0].innerHTML+='<div class="labelOut"><div class="labelIn">'.concat(e.genres[a].genre,"</div></div> ");for(var c=0;c<e.facts.length;c++)document.getElementsByClassName("spoiler")[0].innerHTML+="".concat(c+1,". ").concat(e.facts[c],"<p></p>")})).catch((function(e){console.log(e)}))})),Object(l.jsxs)("div",{className:"film-wrapper",children:[Object(l.jsxs)("div",{className:"filmHeader",children:[Object(l.jsx)("img",{className:"bigPoster"}),Object(l.jsx)("h1",{className:"filmName"}),Object(l.jsx)("div",{className:"filmGenre"}),Object(l.jsx)("div",{className:"filmScore"})]}),Object(l.jsx)("div",{className:"film"}),Object(l.jsx)("div",{className:"filmDescription"}),Object(l.jsx)("p",{}),Object(l.jsx)("div",{className:"filmOther"}),Object(l.jsx)("p",{}),Object(l.jsxs)("div",{className:"filmFacts",onClick:function(){document.getElementsByClassName("spoiler")[0].style.visibility="visible"},children:[Object(l.jsx)("h3",{children:"\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0435 \u0444\u0430\u043a\u0442\u044b: (\u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043d\u0430\u0436\u0430\u0442\u044c \u0441\u044e\u0434\u0430. P.S. \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b \u0441\u043f\u043e\u0439\u043b\u0435\u0440\u044b)"}),Object(l.jsx)("div",{className:"spoiler"})]})]})};var b=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(o.a,{basename:"/",children:[Object(l.jsx)(d,{}),Object(l.jsxs)(h.d,{children:[Object(l.jsx)(h.a,{exact:!0,from:"/",to:"/top/TOP_250_BEST_FILMS",component:p}),Object(l.jsx)(h.b,{path:"/film/:id",component:j}),Object(l.jsx)(h.b,{path:"/:type/:keyword",component:p})]}),Object(l.jsx)(u,{}),Object(l.jsx)(f,{})]})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};s.a.render(Object(l.jsx)(b,{}),document.getElementById("root")),g()}},[[35,1,2]]]);
//# sourceMappingURL=main.35228685.chunk.js.map