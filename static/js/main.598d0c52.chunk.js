(this["webpackJsonpcinema-react"]=this["webpackJsonpcinema-react"]||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(16),i=n.n(c),s=(n(22),n(23),n(10)),r=(n(24),n.p+"static/media/logo.10b5322e.svg"),o=n(7),l=n(1);var d=function(){var e=Object(a.useState)(" "),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(l.jsxs)("div",{className:"header-wrapper",children:[Object(l.jsxs)("div",{className:"header-brand",children:[Object(l.jsx)("img",{className:"logo",alt:"logo",src:r}),Object(l.jsx)(o.b,{to:"/",children:Object(l.jsx)("span",{children:"CINEMA"})})]}),Object(l.jsxs)("div",{className:"search",children:[Object(l.jsx)("input",{type:"text",className:"searchBar",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435...",onChange:function(){var e=document.getElementsByClassName("searchBar")[0].value;c(e)}}),Object(l.jsx)(o.b,{className:"searchButton",to:"/search/".concat(n),children:"\u041f\u043e\u0438\u0441\u043a"})]})]})};n(31);var m=function e(t,n,a){var c,i;"top"===n?i="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=".concat(a,"&page=").concat(t):"search"===n?i="https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=".concat(a,"&page=").concat(t):"genre"===n&&(i="https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-filters?genre=".concat(a,"&order=RATING&type=ALL&ratingFrom=0&ratingTo=10&yearFrom=1888&yearTo=2020&page=").concat(t));var s=new Request(i,{headers:new Headers({accept:"application/json","X-API-KEY":"37970845-fd94-4f47-877f-229c8ce46304"})});return fetch(s).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){c=e.pagesCount,(t>c||t<1)&&(t=c),console.log(t," ",c);var n=document.getElementsByClassName("cards")[0];n.innerHTML="",console.log(e);for(var a=0;a<e.films.length;a++){var i=document.createElement("div");i.className="card",i.innerHTML='\n            <a href="#/film/'.concat(e.films[a].filmId,"\">\n            <img src='").concat(e.films[a].posterUrlPreview,"'></img>\n            <br>\n            <h3>").concat(e.films[a].nameRu," (").concat(e.films[a].year,")</h3>\n            </a>"),n.appendChild(i)}})).catch((function(t){c=e(1,n,a)})),c};var p=function(e){var t,n=Object(a.useState)(1),c=Object(s.a)(n,2),i=c[0],r=c[1];return Object(a.useEffect)((function(){t=m(i,e.match.params.type,e.match.params.keyword)})),Object(l.jsxs)("div",{className:"main-wrapper",children:[Object(l.jsx)("div",{className:"cards"}),Object(l.jsxs)("div",{className:"pageListWrapper",children:[Object(l.jsx)("button",{onClick:function(){i-1>=1?r(i-1):console.log()},className:"pageListButton",children:" \u041d\u0430\u0437\u0430\u0434 "}),Object(l.jsx)("button",{onClick:function(){return r(1)},className:"pageListButton",children:" \u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 "}),Object(l.jsx)("button",{onClick:function(){r(i+1>t?1:i+1)},className:"pageListButton",children:" \u0412\u043f\u0435\u0440\u0435\u0434 "})]})]})};n(32);var u=function(){return Object(a.useEffect)((function(){var e=new Request("https://kinopoiskapiunofficial.tech/api/v2.1/films/filters",{headers:new Headers({accept:"application/json","X-API-KEY":"37970845-fd94-4f47-877f-229c8ce46304"})});fetch(e).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){console.log(e);var t=document.getElementsByClassName("sidebar-wrapper")[0],n=document.createElement("div");n.className="sidebar-header",n.innerHTML="<h3>\u0416\u0410\u041d\u0420\u042b</h3>",t.appendChild(n);for(var a=0;a<e.genres.length;a++){var c=document.createElement("div");c.className="genre",c.innerHTML='\n            <a class="genre-card" href="#/genre/'.concat(e.genres[a].id,'">\n            <h3>').concat(e.genres[a].genre,"</h3>\n            </a>"),t.appendChild(c)}})).catch((function(e){console.log(e)}))})),Object(l.jsx)("div",{className:"sidebar-wrapper"})};n(33);var h=function(){return Object(l.jsx)("div",{className:"footer-wrapper",children:"made by i l y a m e d"})},f=(n(34),n(2));var j=function(){var e=Object(f.g)().id;return Object(a.useEffect)((function(){var t=document.getElementsByClassName("film")[0];t.innerHTML="";var n=document.createElement("div"),a=document.createElement("script");a.type="text/javascript",a.src="//yohoho.cc/yo.js",n.className="player",n.innerHTML='\n            <div id="yohoho" data-kinopoisk="'.concat(e,'"></div>\n            ');var c=document.createElement("div"),i=document.createElement("script");c.className="uitools",c.id="uitools",i.type="text/javascript",i.src="//pleer.uitools.space/get_player?w=610&h=370&type=watch&kp_id=".concat(e,"&players=apicollaps,videocdn,bazon,hdvb,alloha,ustore,iframe,trailer&bt_s=b_r:6;b_h:40;b_w:100;b_c:FFFFFF;b_bg:428BCA;b_f:18;&bt_n=\u041f\u043b\u0435\u0435\u0440 2&ani=COLLAPS&ati=&adi=&vni=VIDEOCDN&vti=&vdi=&hni=HDVB&hti=&hdi=&bni=BAZON&bti=&bdi=&alni=ALLOHATV&alti=&aldi=&usni=USTOREBZ&usti=&usdi=&idi="),t.appendChild(n),t.appendChild(a),t.appendChild(c),t.appendChild(i);var s=new Request("https://kinopoiskapiunofficial.tech/api/v2.1/films/".concat(e,"?append_to_response=RATING"),{headers:new Headers({accept:"application/json","X-API-KEY":"37970845-fd94-4f47-877f-229c8ce46304"})});fetch(s).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){document.getElementsByClassName("filmScore")[0].innerHTML="<div>\u041a\u0438\u043d\u043e\u041f\u043e\u0438\u0441\u043a: ".concat(e.rating.rating," (").concat(e.rating.ratingVoteCount," \u0448\u0442.)</div><div>IMDB: ").concat(e.rating.ratingImdb,"  (").concat(e.rating.ratingImdbVoteCount," \u0448\u0442.)</div> <div>\u041a\u0440\u0438\u0442\u0438\u043a\u0438: ").concat(e.rating.ratingFilmCritics," (").concat(e.rating.ratingFilmCriticsVoteCount," \u0448\u0442.)</div>"),e=e.data,console.log(e),document.getElementsByClassName("bigPoster")[0].src=e.posterUrl,document.getElementsByClassName("filmName")[0].innerHTML="".concat(e.nameRu," (").concat(e.year,')<br/><br/><i class="filmQuote">&laquo;').concat(e.slogan,"&raquo;</i>"),document.getElementsByClassName("filmDescription")[0].innerHTML="<h3>\u041f\u0440\u043e \u0447\u0442\u043e \u0444\u0438\u043b\u044c\u043c?</h3><p></p>".concat(e.description),document.getElementsByClassName("filmOther")[0].innerHTML='\n          \u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d \u0432: <div class="countryAdd"></div>\n          \u0416\u0430\u043d\u0440: <div class="genreAdd"></div>\n          ';for(var t=0;t<=e.countries.length;t++)document.getElementsByClassName("countryAdd")[0].innerHTML+="".concat(e.countries[t].country,"&nbsp; ");for(var n=0;n<=e.genres.length;n++)document.getElementsByClassName("genreAdd")[0].innerHTML+="".concat(e.genres[n].genre,"&nbsp; ")})).catch((function(e){console.log(e)}))})),Object(l.jsxs)("div",{className:"film-wrapper",children:[Object(l.jsxs)("div",{className:"filmHeader",children:[Object(l.jsx)("img",{className:"bigPoster"}),Object(l.jsx)("h1",{className:"filmName"}),Object(l.jsx)("div",{className:"filmScore"})]}),Object(l.jsx)("div",{className:"film"}),Object(l.jsx)("div",{className:"filmDescription"}),Object(l.jsx)("p",{}),Object(l.jsx)("div",{className:"filmOther"})]})};var b=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(o.a,{basename:"/",children:[Object(l.jsx)(d,{}),Object(l.jsxs)(f.d,{children:[Object(l.jsx)(f.a,{exact:!0,from:"/",to:"/top/TOP_250_BEST_FILMS",component:p}),Object(l.jsx)(f.b,{path:"/film/:id",component:j}),Object(l.jsx)(f.b,{path:"/:type/:keyword",component:p})]}),Object(l.jsx)(u,{}),Object(l.jsx)(h,{})]})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};i.a.render(Object(l.jsx)(b,{}),document.getElementById("root")),g()}},[[35,1,2]]]);
//# sourceMappingURL=main.598d0c52.chunk.js.map