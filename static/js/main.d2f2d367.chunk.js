(this["webpackJsonpcinema-react"]=this["webpackJsonpcinema-react"]||[]).push([[0],{22:function(e,n,t){},23:function(e,n,t){},24:function(e,n,t){},31:function(e,n,t){},32:function(e,n,t){},33:function(e,n,t){},34:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t(16),s=t.n(a),r=(t(22),t(23),t(10)),o=(t(24),t.p+"static/media/logo.10b5322e.svg"),i=t(7),l=t(1);var d=function(){var e=Object(c.useState)(" "),n=Object(r.a)(e,2),t=n[0],a=n[1];return Object(l.jsxs)("div",{className:"header-wrapper",children:[Object(l.jsxs)("div",{className:"header-brand",children:[Object(l.jsx)("img",{className:"logo",alt:"logo",src:o}),Object(l.jsx)(i.b,{to:"/",children:Object(l.jsx)("span",{children:"CINEMA"})})]}),Object(l.jsxs)("div",{className:"search",children:[Object(l.jsx)("input",{type:"text",className:"searchBar",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435...",onChange:function(){var e=document.getElementsByClassName("searchBar")[0].value;a(e)}}),Object(l.jsx)(i.b,{className:"searchButton",to:"/search/".concat(t),children:"\u041f\u043e\u0438\u0441\u043a"})]})]})};t(31);var p=function e(n,t,c){var a,s;"top"===t?s="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=".concat(c,"&page=").concat(n):"search"===t&&(s="https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=".concat(c,"&page=").concat(n));var r=new Request(s,{headers:new Headers({accept:"application/json","X-API-KEY":"37970845-fd94-4f47-877f-229c8ce46304"})});return fetch(r).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){a=e.pagesCount,(n>a||n<1)&&(n=a),console.log(n," ",a);var t=document.getElementsByClassName("cards")[0];t.innerHTML="",console.log(e);for(var c=0;c<e.films.length;c++){var s=document.createElement("div");s.className="card",s.innerHTML='\n            <a href="#/film/'.concat(e.films[c].filmId,"\">\n            <img src='").concat(e.films[c].posterUrlPreview,"'></img>\n            <br>\n            <h3>").concat(e.films[c].nameRu,"</h3>\n            </a>"),t.appendChild(s)}})).catch((function(n){a=e(1,t,c)})),a};var m=function(e){var n,t=Object(c.useState)(1),a=Object(r.a)(t,2),s=a[0],o=a[1];return Object(c.useEffect)((function(){n=p(s,e.match.params.type,e.match.params.keyword)})),Object(l.jsxs)("div",{className:"main-wrapper",children:[Object(l.jsx)("div",{className:"cards"}),Object(l.jsxs)("div",{className:"pageListWrapper",children:[Object(l.jsx)("button",{onClick:function(){s-1>=1?o(s-1):console.log()},className:"pageListButton",children:" \u041d\u0430\u0437\u0430\u0434 "}),Object(l.jsx)("button",{onClick:function(){return o(1)},className:"pageListButton",children:" \u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 "}),Object(l.jsx)("button",{onClick:function(){o(s+1>n?1:s+1)},className:"pageListButton",children:" \u0412\u043f\u0435\u0440\u0435\u0434 "})]})]})};t(32);var h=function(){return Object(c.useEffect)((function(){var e=new Request("https://kinopoiskapiunofficial.tech/api/v2.1/films/filters",{headers:new Headers({accept:"application/json","X-API-KEY":"37970845-fd94-4f47-877f-229c8ce46304"})});fetch(e).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){console.log(e);var n=document.getElementsByClassName("sidebar-wrapper")[0],t=document.createElement("div");t.className="sidebar-header",t.innerHTML="<h3>\u0416\u0410\u041d\u0420\u042b</h3>",n.appendChild(t);for(var c=0;c<e.genres.length;c++){var a=document.createElement("div");a.className="genre",a.innerHTML='\n            <a class="genre-card" href="#/genre/'.concat(e.genres[c].id,'">\n            <h3>').concat(e.genres[c].genre,"</h3>\n            </a>"),n.appendChild(a)}})).catch((function(e){console.log(e)}))})),Object(l.jsx)("div",{className:"sidebar-wrapper"})};t(33);var u=function(){return Object(l.jsx)("div",{className:"footer-wrapper",children:"made by i l y a m e d"})},f=(t(34),t(2));var j=function(){var e=Object(f.g)().id;return Object(c.useEffect)((function(){var n=document.getElementsByClassName("film-wrapper")[0];n.innerHTML="";var t=document.createElement("div"),c=document.createElement("script");c.type="text/javascript",c.src="//yohoho.cc/yo.js",t.className="player",t.innerHTML='\n            <div id="yohoho" data-kinopoisk="'.concat(e,'"></div>\n            '),n.appendChild(t),n.appendChild(c)})),Object(l.jsx)("div",{className:"film-wrapper"})};var b=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(i.a,{basename:"/",children:[Object(l.jsx)(d,{}),Object(l.jsxs)(f.d,{children:[Object(l.jsx)(f.a,{exact:!0,from:"/",to:"/top/TOP_250_BEST_FILMS",component:m}),Object(l.jsx)(f.b,{path:"/film/:id",component:j}),Object(l.jsx)(f.b,{path:"/:type/:keyword",component:m})]}),Object(l.jsx)(h,{}),Object(l.jsx)(u,{})]})})},v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,36)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,s=n.getLCP,r=n.getTTFB;t(e),c(e),a(e),s(e),r(e)}))};s.a.render(Object(l.jsx)(b,{}),document.getElementById("root")),v()}},[[35,1,2]]]);
//# sourceMappingURL=main.d2f2d367.chunk.js.map